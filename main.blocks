<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="YHM,XCFmon@2RzdNlW*3">tempPosX</variable><variable id="E7Y^4FXGK)(w?(Lh}AjD">tempPosY</variable><variable id=";sfv+LjWti4MQc4!QS~n">positions</variable><variable id="ALdGf4.:FEUm3WcR)ytZ">fruitCoords</variable><variable id=".*Zj?MWsZg|=,9JZ}!pM">score</variable><variable id="d}5)tP79J@i{`0gJ||{~">randomCoords</variable></variables><block type="pxt-on-start" id="~^jfT(oM.M9j@[[HnO;j" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="[BI}ZCfV-t?u=ra(d5GC" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let k = 0" numlines="1" declaredvars="k"></mutation><next><block type="typescript_statement" id="$;e_Os?Zh+VK{%o]ylmB" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const config = {" line1="    updateRate: 500 //Rychlost hry - jeden frame (ms)" line2="}" numlines="3" declaredvars="config"></mutation><next><block type="typescript_statement" id="q{E^^Ow/Zg8Q3tUO%k:V" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let char = {" line1="    pos: [2, 2]," line2="    rot: 0," line3="    len: 1," line4="    dead: false" line5="}" numlines="6" declaredvars="char"></mutation><next><block type="variables_set" id="sZ.I|TVv{X28C:oqFisY"><field name="VAR" id=";sfv+LjWti4MQc4!QS~n">positions</field><value name="VALUE"><shadow type="math_number" id="CFIjJt]inv`;kelNI#`Y"><field name="NUM">0</field></shadow><block type="lists_create_with" id="EpOH{$bpPiKdXqB~.LpM"><mutation items="3" horizontalafter="3"></mutation><value name="ADD0"><block type="lists_create_with" id="tW[.RP{]rOAbJ?3lWesX"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="`Mn;`dx+]qwiho:K{h2P"><field name="NUM">2</field></shadow></value><value name="ADD1"><shadow type="math_number" id="}_D]RXhvi/Bxv+e,bz4W"><field name="NUM">2</field></shadow></value></block></value><value name="ADD1"><block type="lists_create_with" id="@uKz_d@z!J~f@:9vM;n="><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="ZPB-:MOX@%/(yH{K7[Q/"><field name="NUM">2</field></shadow></value><value name="ADD1"><shadow type="math_number" id="ra#`[J]B[q90BEfE#.J:"><field name="NUM">3</field></shadow></value></block></value><value name="ADD2"><block type="lists_create_with" id="TjeNi#~*JIBm,GT#-GSI"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="0zch[cy^oItCSU~TD^,*"><field name="NUM">2</field></shadow></value><value name="ADD1"><shadow type="math_number" id="?g5,+{(#MjFu}JfXLADL"><field name="NUM">4</field></shadow></value></block></value></block></value><next><block type="variables_set" id="j72;Tm=r;:UjV;G4G3,v"><field name="VAR" id="ALdGf4.:FEUm3WcR)ytZ">fruitCoords</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="IB7-.tl~y7fmlo%lvq9F"><mutation name="GenerateRandomFruit" functionid="toAY7|W,YL2W%k7pLhE%"></mutation></block></value><next><block type="device_play_note" id="rn=h*Gfho~`mTCbF7Rd0"><value name="note"><shadow type="device_note" id="-I?Zl+C1fm%#|^riV|Ck"><field name="name">500</field></shadow></value><value name="duration"><shadow type="device_beat"></shadow><block type="math_number" id="`9o0[D1@/!eK8a$IU5A:"><field name="NUM">10</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="87JMk2!ZTwr=:0$8R=aE" x="1211" y="0"><field name="NAME">Button.A</field><comment pinned="false" h="80" w="160">Eventy</comment><statement name="HANDLER"><block type="typescript_statement" id=")!sYcmybw]}j9EW)sSNO" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="char.rot = char.rot &lt;= 0 ? 3 : (char.rot - 1)" numlines="1"></mutation></block></statement></block><block type="device_button_event" id="v1*g#Gi,Tl$CVDQJlP-H" x="1684" y="0"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="typescript_statement" id="`-pSm#ov[+uG@:eR7D]#" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="char.rot = char.rot &gt;= 3 ? 0 : (char.rot + 1)" numlines="1"></mutation></block></statement></block><block type="device_forever" id="4#%FZSGt4,1A,RdqY:*D" x="2157" y="0"><comment pinned="false" h="80" w="160">Iterace</comment><statement name="HANDLER"><block type="function_call" id="k*[lxZRm7Z@74pp{7x4I"><mutation name="DrawFruit" functionid="vTUutIm$+%Vfu8Y8o}R;"></mutation><next><block type="device_pause" id="+t)C!;d9|/(j`?k`5t4("><comment pinned="false" h="80" w="160">Updaterate = 2 Hz</comment><value name="pause"><shadow type="timePicker" id="IiyK=B.(le.@fb7e9Lu]"><field name="ms">config.updateRate</field></shadow></value><next><block type="typescript_statement" id="lyL/kbY_Z)tBLmR$Al?Z" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="console.log(&quot;New frame&quot;);" numlines="1"></mutation><next><block type="variables_set" id="|[NzeU21b4W#|8@9TNOO"><field name="VAR" id="YHM,XCFmon@2RzdNlW*3">tempPosX</field><comment pinned="false" h="80" w="160">Nahraje momentální pozici do arr positions,</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="U@J:!OLbC:Ql6H1gBsm5"><value name="LIST"><block type="typescript_expression" id="fJ;gn=;y]z=QI;/0u*W(" editable="false"><field name="EXPRESSION">char.pos</field></block></value><value name="INDEX"><shadow type="math_number" id="MGQK%egJa{D]~j!q}oF^"><field name="NUM">0</field></shadow></value></block></value><next><block type="variables_set" id="074a9BxaAL?+d1|zdP$P"><field name="VAR" id="E7Y^4FXGK)(w?(Lh}AjD">tempPosY</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="38bkDTpSkW6OW]vw):zu"><value name="LIST"><block type="typescript_expression" id="xzj_4YIG}~6[R)Oy{A9P" editable="false"><field name="EXPRESSION">char.pos</field></block></value><value name="INDEX"><shadow type="math_number" id="BX}@8H+q4;pD_PZ(|b!P"><field name="NUM">1</field></shadow></value></block></value><next><block type="array_push" id="M@trGM)_1Bx3@*HA|M!3"><value name="list"><block type="variables_get" id="nm6BMDUG$ca4KkEAxN.!"><field name="VAR" id=";sfv+LjWti4MQc4!QS~n">positions</field></block></value><value name="value"><block type="lists_create_with" id="tf|;LRp7;?k%jls,Ss5d"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="variables_get" id="0cUCk$X|$0DxWCg4UEmD"><field name="VAR" id="YHM,XCFmon@2RzdNlW*3">tempPosX</field></block></value><value name="ADD1"><block type="variables_get" id="Z*vc?JbIlaxbP5.~scJ["><field name="VAR" id="E7Y^4FXGK)(w?(Lh}AjD">tempPosY</field></block></value></block></value><next><block type="device_clear_display" id="hpba@-aO8@jGnr~`wC;P"><comment pinned="false" h="80" w="160">Vymaze momentální pozici</comment><next><block type="function_call" id="PZ}NPOVSxEb![@.^J`D+"><mutation name="GetNewPosition" functionid="b(AdC=5hDk$/|5O{r6b+"></mutation><comment pinned="false" h="80" w="160">Vyhodnoti dalsi pole podle smeru
&lt;---</comment><next><block type="function_call" id="lu*O4o1p6MOe$5$.m*Su"><mutation name="DrawSnake" functionid=":Y`EY9Kf8}ab8mbfOtrd"></mutation><next><block type="function_call" id="-6q0uClrnMXWkj?cV+T9"><mutation name="CheckFruitCollection" functionid="uFH0s0_Y!`_8{MGJ5rro"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="@oX;n!mW8bYZkiJ_i8xP" x="2956" y="0"><mutation name="Debug_LogPositions" functionid="I2@c2Xm1.[|[?-myT^Y_"><arg name="mssg" id="ii68uh787l1r86k1fp2h" type="string"></arg></mutation><field name="function_name">Debug_LogPositions</field><value name="ii68uh787l1r86k1fp2h"><shadow type="argument_reporter_string" id="8Co-ANSQPOvmbSW{8#VJ"><field name="VALUE">mssg</field></shadow></value><statement name="STACK"><block type="typescript_statement" id="f3uN?clT~T4`o.BR`cX," editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="console.log(`POSITION ${mssg}:`);" numlines="1"></mutation><next><block type="typescript_statement" id="JUuT;/O0yB^z.pBC/QDn" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="for (let i = positions.length - 1; i &gt;= 0; i--) {" line1="        console.log(`${positions[i][0]}, ${positions[i][1]}`);" line2="    }" numlines="3"></mutation></block></next></block></statement></block><block type="function_definition" id="Lkov=]~Zb(76*iZ[g{we" x="0" y="701"><mutation name="DrawSnake" functionid=":Y`EY9Kf8}ab8mbfOtrd"></mutation><field name="function_name">DrawSnake</field><statement name="STACK"><block type="typescript_statement" id="B]yeN!L57Kvdx0x3f5{W" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="for (let j = positions.length - 1; j &gt;= (positions.length - char.len); j--) {" line1="        led.plot(positions[j][0], positions[j][1])" line2="    }" numlines="3"></mutation><next><block type="device_plot" id="w;4.O=3*`ijNjI:-1:bz"><value name="x"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="lists_index_get" id="x^_`SV|{/2nD7|4;z_7f"><value name="LIST"><block type="typescript_expression" id="mxuFgZGBUC[5BaKVDt0]" editable="false"><field name="EXPRESSION">char.pos</field></block></value><value name="INDEX"><shadow type="math_number" id="nW*SmsHWgag::Z,$m*fK"><field name="NUM">0</field></shadow></value></block></value><value name="y"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="lists_index_get" id="(tGdb]:^o;%;{q_h+[ik"><value name="LIST"><block type="typescript_expression" id="?@vo%XmY:83w*xrYd?qi" editable="false"><field name="EXPRESSION">char.pos</field></block></value><value name="INDEX"><shadow type="math_number" id="9qI[!7g*@e3*oFT+kIdp"><field name="NUM">1</field></shadow></value></block></value></block></next></block></statement></block><block type="function_definition" id="GH@D((llgX#Q33X/$WcY" x="754" y="701"><mutation name="GetNewPosition" functionid="b(AdC=5hDk$/|5O{r6b+"></mutation><field name="function_name">GetNewPosition</field><statement name="STACK"><block type="typescript_statement" id=")CDFa_ZH2bN{rL#0UuDR" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="switch (char.rot) {" line1="        case 0:" line2="            char.pos[1] = char.pos[1] &lt;= 0 ? 4 : (char.pos[1] - 1)" line3="            break;" line4="" line5="        case 1:" line6="            char.pos[0] = char.pos[0] &gt;= 4 ? 0 : (char.pos[0] + 1)" line7="            break;" line8="" line9="        case 2:" line10="            char.pos[1] = char.pos[1] &gt;= 4 ? 0 : (char.pos[1] + 1)" line11="            break;" line12="" line13="        case 3:" line14="            char.pos[0] = char.pos[0] &lt;= 0 ? 4 : (char.pos[0] - 1)" line15="            break;" line16="" line17="        default:" line18="            break;" line19="    }" numlines="20"></mutation></block></statement></block><block type="function_definition" id="-aTwx*A5Bbu6u~?D2G-Y" x="1412" y="701"><mutation name="CheckFruitCollection" functionid="uFH0s0_Y!`_8{MGJ5rro"></mutation><field name="function_name">CheckFruitCollection</field><statement name="STACK"><block type="controls_if" id="p#E2}:m3Q-(0M%OCd0%A"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="+o#D8:OaaRzOS~S4z)ZJ"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="_RH#Hp/p9gXp._5|1C1Q"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="10%XguT1-%88I/^+w[19"><value name="LIST"><block type="variables_get" id="%lId5oZ.8[AJp8*cY=3i"><field name="VAR" id="ALdGf4.:FEUm3WcR)ytZ">fruitCoords</field></block></value><value name="INDEX"><shadow type="math_number" id="ko7IaUSY`XeCwV$}k_)*"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="vgRe+%7Ot.#%Nai5A/(P"><value name="LIST"><block type="typescript_expression" id="]fBtQa~~voggEzmE+].@" editable="false"><field name="EXPRESSION">char.pos</field></block></value><value name="INDEX"><shadow type="math_number" id="`p2zNV*5jsXm,]]hMBA6"><field name="NUM">0</field></shadow></value></block></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="elTTt:o-O,?wajQ1bVbu"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="9RqpdYqNCU:kIgb[4I@B"><value name="LIST"><block type="variables_get" id="7hhIj{:?QcTX*k}f+_!q"><field name="VAR" id="ALdGf4.:FEUm3WcR)ytZ">fruitCoords</field></block></value><value name="INDEX"><shadow type="math_number" id="/TlVt/7(emt)(RZK9]iM"><field name="NUM">1</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="Ha!Y=SGYwNQy$%hB2eZV"><value name="LIST"><block type="typescript_expression" id="ty0OSZLuO[%vA?CT/G_f" editable="false"><field name="EXPRESSION">char.pos</field></block></value><value name="INDEX"><shadow type="math_number" id="uTwn4iE%za(%cI_+Q[lb"><field name="NUM">1</field></shadow></value></block></value></block></value></block></value><statement name="DO0"><block type="variables_change" id="SWQB{yUha3i`X84lX3zk"><field name="VAR" id=".*Zj?MWsZg|=,9JZ}!pM">score</field><value name="VALUE"><shadow type="math_number" id="1dDPhq16%EG-$ngWJhER"><field name="NUM">1</field></shadow></value><next><block type="device_unplot" id="7:Dxw`FlNB_OCdC^x4Ku"><value name="x"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="lists_index_get" id="hw};G.7!3^=9)50MlOb-"><value name="LIST"><block type="variables_get" id="af^DncEQtPM|1SgJ?.O}"><field name="VAR" id="ALdGf4.:FEUm3WcR)ytZ">fruitCoords</field></block></value><value name="INDEX"><shadow type="math_number" id="@#AhvOBdmq(HtyR`1@rV"><field name="NUM">0</field></shadow></value></block></value><value name="y"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="lists_index_get" id="y`W3-:y8T{YMrq/L|IKS"><value name="LIST"><block type="variables_get" id="X.R/wCVsFKa#uuJCqJK~"><field name="VAR" id="ALdGf4.:FEUm3WcR)ytZ">fruitCoords</field></block></value><value name="INDEX"><shadow type="math_number" id="pt@3@XDgSgC3z5:R1l0{"><field name="NUM">1</field></shadow></value></block></value><next><block type="function_call" id="_z6f{eGv-.jvb@rt*/_~"><mutation name="GenerateRandomFruit" functionid="toAY7|W,YL2W%k7pLhE%"></mutation><next><block type="typescript_statement" id="(3=Jk~1jr5%vT^i0SiB_" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="char.len++" numlines="1"></mutation></block></next></block></next></block></next></block></statement></block></statement></block><block type="function_definition" id="xJ3AsE6[uEi7u{:2T=zw" x="0" y="1656"><mutation name="GenerateRandomFruit" functionid="toAY7|W,YL2W%k7pLhE%"></mutation><field name="function_name">GenerateRandomFruit</field><statement name="STACK"><block type="variables_set" id="ekKAsWd9.K]`nIbSs%6}"><field name="VAR" id="d}5)tP79J@i{`0gJ||{~">randomCoords</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id=".b#]~l{Pb(~G,JCSciDh"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="99ELs/gH[Et]REHaWIxW"><value name="min"><shadow type="math_number" id="Evc+;=CKrL7%DXy.uw!{"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="{WY3@v5Ow%*S{wANwMD!"><field name="NUM">4</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="$0H8OMrX|ouTNkwMo|j`"><value name="min"><shadow type="math_number" id="SKg-l9?mP=LJfE@1]A`U"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="+EP{3vRrXt%l.3vZqFj@"><field name="NUM">4</field></shadow></value></block></value></block></value><next><block type="device_plot" id="^)T~:{UF)Dj=6Zg_,m0/"><value name="x"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="lists_index_get" id="N3Ca)t@Nb,#UWP{5Y@8U"><value name="LIST"><block type="variables_get" id="+~U82ll9Dv.k/J8qVh*#"><field name="VAR" id="d}5)tP79J@i{`0gJ||{~">randomCoords</field></block></value><value name="INDEX"><shadow type="math_number" id="Bd|XCFB^6:#!MV3jS[{0"><field name="NUM">0</field></shadow></value></block></value><value name="y"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="lists_index_get" id="PYF_=$1OG=!g=M~Mu^i7"><value name="LIST"><block type="variables_get" id="Mut`mGv^}Yn+DyixY{LR"><field name="VAR" id="d}5)tP79J@i{`0gJ||{~">randomCoords</field></block></value><value name="INDEX"><shadow type="math_number" id="T/X}dV3,n=qX6q1fwm%7"><field name="NUM">1</field></shadow></value></block></value><next><block type="variables_set" id="O[46+JIOG28K:_mWV*?n"><field name="VAR" id="ALdGf4.:FEUm3WcR)ytZ">fruitCoords</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="L]qKcBtx:3+i?re{yE[u"><field name="VAR" id="d}5)tP79J@i{`0gJ||{~">randomCoords</field></block></value><next><block type="function_call" id="YG%!7$LjI3%DC|ZO)PDJ"><mutation name="DrawFruit" functionid="vTUutIm$+%Vfu8Y8o}R;"></mutation><next><block type="function_return" id="(nA0m$}NJ+%o]XGk5M;~"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="p6hLWycsA_++$@`7A~$Q"><field name="VAR" id="ALdGf4.:FEUm3WcR)ytZ">fruitCoords</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="xgEZ]a;1eUmUV(=P^gZX" x="935" y="1656"><mutation name="DrawFruit" functionid="vTUutIm$+%Vfu8Y8o}R;"></mutation><field name="function_name">DrawFruit</field><statement name="STACK"><block type="typescript_statement" id="Q6lj|iV=NU}O/`[:f,F3" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="loops.everyInterval(50, function() {" line1="        if (k &gt;= 9) return null" line2="        led.toggle(fruitCoords[0], fruitCoords[1])" line3="        k++" line4="    })" numlines="5"></mutation></block></statement></block></xml>